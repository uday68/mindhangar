# MindHangar AI for Bharat - Architecture Diagram

## High-Level System Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                CLIENT LAYER                                      │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────┐ │
│  │   PWA Web   │  │ Mobile App  │  │ Desktop App │  │   Offline Client        │ │
│  │             │  │ (React      │  │ (Electron)  │  │   (Service Worker)      │ │
│  │ Multi-Lang  │  │  Native)    │  │             │  │                         │ │
│  │ Responsive  │  │             │  │             │  │   Local Storage         │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
                                        │
                                        ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            API GATEWAY & LOAD BALANCER                          │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────────┐  │
│  │  AWS API        │  │  Load Balancer  │  │  Rate Limiting &                │  │
│  │  Gateway        │  │  (ALB)          │  │  Authentication                 │  │
│  │                 │  │                 │  │                                 │  │
│  │  - Routing      │  │  - Auto Scaling │  │  - JWT Tokens                   │  │
│  │  - Throttling   │  │  - Health Check │  │  - API Keys                     │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
                                        │
                                        ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              CORE SERVICES LAYER                                │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────┐ │
│  │    User     │  │   Content   │  │     AI      │  │    Offline Sync         │ │
│  │ Management  │  │ Management  │  │  Services   │  │    Service              │ │
│  │             │  │             │  │             │  │                         │ │
│  │ - Auth      │  │ - CRUD      │  │ - Chat      │  │ - Background Sync       │ │
│  │ - Profiles  │  │ - Versioning│  │ - Analysis  │  │ - Conflict Resolution   │ │
│  │ - Progress  │  │ - Caching   │  │ - Generation│  │ - Priority Queue        │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
                                        │
                                        ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           LOCALIZATION & CULTURAL LAYER                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────────┐  │
│  │ Language Engine │  │ Cultural Filter │  │    Regional Adapter             │  │
│  │                 │  │                 │  │                                 │  │
│  │ - Translation   │  │ - Content       │  │ - Regional Preferences          │  │
│  │ - Detection     │  │   Filtering     │  │ - Cultural Context              │  │
│  │ - Script Conv.  │  │ - Cultural      │  │ - Festival Calendar             │  │
│  │ - Voice I/O     │  │   Validation    │  │ - Historical References         │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
                                        │
                                        ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            EDUCATIONAL SERVICES LAYER                           │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────────┐  │
│  │ Curriculum      │  │ Assessment      │  │    Learning Analytics           │  │
│  │ Adapter         │  │ Engine          │  │                                 │  │
│  │                 │  │                 │  │ - Progress Tracking             │  │
│  │ - Board Align   │  │ - Quiz Gen      │  │ - Performance Analysis          │  │
│  │ - Syllabus Map  │  │ - Evaluation    │  │ - Recommendation Engine         │  │
│  │ - Exam Prep     │  │ - Mock Tests    │  │ - Comparative Analytics         │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
                                        │
                                        ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            INTEGRATION & EXTERNAL LAYER                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────────┐  │
│  │ Government      │  │ Payment         │  │    Notification                 │  │
│  │ Integration     │  │ Gateway         │  │    Service                      │  │
│  │                 │  │                 │  │                                 │  │
│  │ - DIKSHA API    │  │ - Razorpay      │  │ - Push Notifications            │  │
│  │ - State Portals │  │ - UPI           │  │ - Email/SMS                     │  │
│  │ - SSO           │  │ - Net Banking   │  │ - In-App Messages               │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
                                        │
                                        ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                 DATA LAYER                                      │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────┐ │
│  │   Redis     │  │ PostgreSQL  │  │ File Storage│  │    Elasticsearch        │ │
│  │   Cache     │  │ Primary DB  │  │    (S3)     │  │    Search Index         │ │
│  │             │  │             │  │             │  │                         │ │
│  │ - Session   │  │ - User Data │  │ - Media     │  │ - Content Search        │ │
│  │ - Temp Data │  │ - Content   │  │ - Documents │  │ - Analytics             │ │
│  │ - Queue     │  │ - Analytics │  │ - Backups   │  │ - Logs                  │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## AWS Services Integration

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              AWS SERVICES LAYER                                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────────┐  │
│  │   AI/ML         │  │   Compute       │  │    Storage & Database           │  │
│  │   Services      │  │   Services      │  │                                 │  │
│  │                 │  │                 │  │                                 │  │
│  │ • Bedrock       │  │ • Lambda        │  │ • RDS (PostgreSQL)              │  │
│  │ • Translate     │  │ • ECS           │  │ • DynamoDB                      │  │
│  │ • Polly         │  │ • EC2           │  │ • S3                            │  │
│  │ • Comprehend    │  │ • API Gateway   │  │ • ElastiCache (Redis)           │  │
│  │ • Lex           │  │                 │  │ • OpenSearch                    │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────────┘  │
│                                                                                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────────┐  │
│  │   Networking    │  │   Security      │  │    Monitoring & Analytics       │  │
│  │   & CDN         │  │   Services      │  │                                 │  │
│  │                 │  │                 │  │                                 │  │
│  │ • CloudFront    │  │ • IAM           │  │ • CloudWatch                    │  │
│  │ • Route 53      │  │ • Cognito       │  │ • X-Ray                         │  │
│  │ • VPC           │  │ • WAF           │  │ • CloudTrail                    │  │
│  │ • ALB           │  │ • Secrets Mgr   │  │ • Kinesis                       │  │
│  │                 │  │ • KMS           │  │ • QuickSight                    │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## Data Flow Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              DATA FLOW DIAGRAM                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  User Request (Hindi)                                                           │
│         │                                                                       │
│         ▼                                                                       │
│  ┌─────────────────┐                                                           │
│  │ Language Engine │ ──────► Detect Language: Hindi                            │
│  └─────────────────┘                                                           │
│         │                                                                       │
│         ▼                                                                       │
│  ┌─────────────────┐                                                           │
│  │ Cultural Filter │ ──────► Apply North India Context                         │
│  └─────────────────┘                                                           │
│         │                                                                       │
│         ▼                                                                       │
│  ┌─────────────────┐                                                           │
│  │ AI Services     │ ──────► Generate Culturally Aware Response                │
│  │ (Bedrock)       │                                                           │
│  └─────────────────┘                                                           │
│         │                                                                       │
│         ▼                                                                       │
│  ┌─────────────────┐                                                           │
│  │ Content Manager │ ──────► Fetch CBSE Aligned Content                        │
│  └─────────────────┘                                                           │
│         │                                                                       │
│         ▼                                                                       │
│  ┌─────────────────┐                                                           │
│  │ Response        │ ──────► "दिवाली के दौरान प्रकाश और प्रकाशिकी..."          │
│  │ (Hindi + Culture)│                                                          │
│  └─────────────────┘                                                           │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## Offline Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            OFFLINE-FIRST ARCHITECTURE                           │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                        CLIENT SIDE (OFFLINE)                                │ │
│  │                                                                             │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────────────┐ │ │
│  │  │ Service     │  │ IndexedDB   │  │        Local AI Models              │ │ │
│  │  │ Worker      │  │ Storage     │  │                                     │ │ │
│  │  │             │  │             │  │ • Lightweight Translation           │ │ │
│  │  │ • Caching   │  │ • Content   │  │ • Basic Cultural Rules              │ │ │
│  │  │ • Sync      │  │ • Progress  │  │ • Offline Quiz Generation           │ │ │
│  │  │ • Queue     │  │ • User Data │  │                                     │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                     SYNC LAYER (WHEN ONLINE)                                │ │
│  │                                                                             │ │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │ │
│  │  │ Background Sync │  │ Conflict        │  │    Priority Queue           │ │ │
│  │  │                 │  │ Resolution      │  │                             │ │ │
│  │  │ • Delta Updates │  │                 │  │ • Critical Data First       │ │ │
│  │  │ • Batch Upload  │  │ • Last Write    │  │ • User Progress Priority    │ │ │
│  │  │ • Retry Logic   │  │   Wins          │  │ • Content Updates Later     │ │ │
│  │  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## Security Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              SECURITY LAYERS                                    │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                        EDGE SECURITY                                        │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────────────┐ │ │
│  │  │ CloudFront  │  │    WAF      │  │         DDoS Protection             │ │ │
│  │  │             │  │             │  │                                     │ │ │
│  │  │ • SSL/TLS   │  │ • Rate      │  │ • AWS Shield                        │ │ │
│  │  │ • Geo Block │  │   Limiting  │  │ • Auto Scaling                      │ │ │
│  │  │ • Caching   │  │ • IP Filter │  │ • Health Checks                     │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                     APPLICATION SECURITY                                    │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────────────┐ │ │
│  │  │ JWT Tokens  │  │ API Keys    │  │         RBAC                        │ │ │
│  │  │             │  │             │  │                                     │ │ │
│  │  │ • Auth      │  │ • Service   │  │ • Student Role                      │ │ │
│  │  │ • Refresh   │  │   Auth      │  │ • Teacher Role                      │ │ │
│  │  │ • Expiry    │  │ • Rate Limit│  │ • Parent Role                       │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                       DATA SECURITY                                         │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────────────┐ │ │
│  │  │ Encryption  │  │ Data        │  │         Compliance                  │ │ │
│  │  │             │  │ Privacy     │  │                                     │ │ │
│  │  │ • At Rest   │  │             │  │ • GDPR                              │ │ │
│  │  │ • In Transit│  │ • PII Mask  │  │ • Indian Data Protection            │ │ │
│  │  │ • KMS       │  │ • Anonymize │  │ • COPPA (Child Privacy)             │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## Deployment Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            DEPLOYMENT ARCHITECTURE                              │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                          PRODUCTION                                         │ │
│  │                                                                             │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────────────┐ │ │
│  │  │   Mumbai    │  │ Bangalore   │  │         Chennai                     │ │ │
│  │  │   Region    │  │   Region    │  │         Region                      │ │ │
│  │  │             │  │             │  │                                     │ │ │
│  │  │ • Primary   │  │ • Secondary │  │ • DR Site                           │ │ │
│  │  │ • Auto Scale│  │ • Read      │  │ • Backup                            │ │ │
│  │  │ • Multi-AZ  │  │   Replica   │  │ • Archive                           │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                         STAGING                                             │ │
│  │                                                                             │ │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │ │
│  │  │ Integration     │  │ Performance     │  │    User Acceptance          │ │ │
│  │  │ Testing         │  │ Testing         │  │    Testing                  │ │ │
│  │  │                 │  │                 │  │                             │ │ │
│  │  │ • API Tests     │  │ • Load Tests    │  │ • Beta Users                │ │ │
│  │  │ • Unit Tests    │  │ • Stress Tests  │  │ • Feature Testing           │ │ │
│  │  │ • E2E Tests     │  │ • Scalability   │  │ • Feedback Collection       │ │ │
│  │  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                       DEVELOPMENT                                           │ │
│  │                                                                             │ │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │ │
│  │  │ Local Dev       │  │ Feature Branch  │  │    CI/CD Pipeline           │ │ │
│  │  │                 │  │                 │  │                             │ │ │
│  │  │ • Docker        │  │ • Git Flow      │  │ • GitHub Actions            │ │ │
│  │  │ • Hot Reload    │  │ • PR Reviews    │  │ • Automated Testing         │ │ │
│  │  │ • Mock Services │  │ • Code Quality  │  │ • Deployment Automation     │ │ │
│  │  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```